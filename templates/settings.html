{% extends "layout.html" %}

{% block title %}Settings - StudyBoiler{% endblock %}

{% block page_content %}
<div class="page">
    <div>
        <h1 class="text-3xl font-bold mb-2">Settings</h1>
        <p class="text-slate-500 dark:text-slate-400 mb-6">Manage your account and preferences</p>
    </div>

    <div class="card space-y-6">
        <div class="border-b border-slate-200 dark:border-gray-700 pb-6 mb-6">
            <h2 class="text-lg font-semibold mb-4">Appearance</h2>
            <div class="flex items-center justify-between">
                <div>
                    <p class="font-medium">Dark Mode</p>
                    <p class="text-xs text-slate-500 dark:text-slate-400">Switch between light and dark themes</p>
                </div>
                <button @click="toggleDarkMode()"
                    class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-[#CEB888] focus:ring-offset-2 focus:ring-offset-slate-900"
                    :class="darkMode ? 'bg-[#CEB888]' : 'bg-slate-600'">
                    <span class="inline-block h-4 w-4 transform rounded-full bg-white transition-transform"
                        :class="darkMode ? 'translate-x-6' : 'translate-x-1'"></span>
                </button>
            </div>
        </div>

        <div>
            <h2 class="text-lg font-semibold mb-4">Account Information</h2>
            <div class="space-y-3 text-sm">
                <div class="flex justify-between">
                    <span class="text-slate-500 dark:text-slate-400">Username:</span>
                    <span x-text="currentUser.username"></span>
                </div>
                <div class="flex justify-between">
                    <span class="text-slate-500 dark:text-slate-400">Major:</span>
                    <span x-text="currentUser.major || 'Not set'"></span>
                </div>
                <div class="flex justify-between">
                    <span class="text-slate-500 dark:text-slate-400">Course:</span>
                    <span x-text="currentUser.course_code || 'Not set'"></span>
                </div>
                <div class="flex justify-between">
                    <span class="text-slate-500 dark:text-slate-400">Total XP:</span>
                    <span x-text="currentUser.total_xp || 0"></span>
                </div>
                <div class="flex justify-between">
                    <span class="text-slate-500 dark:text-slate-400">Current Level:</span>
                    <span x-text="xpProgress.current_level || 1"></span>
                </div>
                <div class="flex justify-between">
                    <span class="text-slate-500 dark:text-slate-400">Study Streak:</span>
                    <span x-text="studyStreak + ' days'"></span>
                </div>
            </div>
        </div>

        <div>
            <h2 class="text-lg font-semibold mb-4">Database Actions</h2>
            <button @click="clearUserData()"
                class="px-6 py-3 bg-red-600 hover:bg-red-500 rounded-lg font-medium transition">
                ⚠️ Clear All Progress
            </button>
            <p class="mt-2 text-xs text-slate-500 dark:text-slate-400">This will delete all your progress data.</p>
        </div>
    </div>
</div>
{% endblock %}